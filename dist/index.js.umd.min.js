(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["index.js"]=e():t["index.js"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=0)}({"/eF2":function(t,e,n){var r=n("UbOL"),o=n("iIHC"),i=n("1YjY"),a=n("XNkZ")("src"),u="toString",c=Function[u],f=(""+c).split(u);n("5jKG").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,a)||o(n,a,t[e]?""+t[e]:f.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[a]||c.call(this)})},0:function(t,e,n){t.exports=n("jL/W")},"0zrO":function(t,e,n){var r=n("PpzO"),o=n("ed1Z"),i=n("hH9z");t.exports=function(t){return function(e,n,a){var u,c=r(e),f=o(c.length),l=i(a,f);if(t&&n!=n){while(f>l)if(u=c[l++],u!=u)return!0}else for(;f>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},"1YjY":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"2ib6":function(t,e,n){var r=n("f56v");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"3XlM":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"40tU":function(t,e,n){var r=n("dN6c"),o=n("UbOL").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},"5jKG":function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},"9Ji6":function(t,e,n){t.exports=!n("D5sW")&&!n("EBDe")(function(){return 7!=Object.defineProperty(n("40tU")("div"),"a",{get:function(){return 7}}).a})},"9Uxj":function(t,e,n){var r=n("dN6c");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"D+3s":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},D5sW:function(t,e,n){t.exports=!n("EBDe")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},EBDe:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},PpzO:function(t,e,n){var r=n("2ib6"),o=n("3XlM");t.exports=function(t){return r(o(t))}},UbOL:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},XNkZ:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},dN6c:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},drtT:function(t,e,n){"use strict";var r=n("EBDe");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},dy7O:function(t,e,n){var r=n("wUqy");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},ed1Z:function(t,e,n){var r=n("j/sJ"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},f56v:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},hH9z:function(t,e,n){var r=n("j/sJ"),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},iIHC:function(t,e,n){var r=n("sH0h"),o=n("D+3s");t.exports=n("D5sW")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"j/sJ":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"jL/W":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("yeSf");var r={name:"FirebaseUploader",data:function(){return{hasError:!1,loading:!1,defaultImage:!1,hasFile:!1}},created:function(){this.getMetaData()()},props:{uploadFileLabel:{type:String,default:"Upload a file"},deleteFileLabel:{type:String,default:"Remove this file"},unsuportedMediaTypeLabel:{type:String,default:"Unsuported Media Type. Please use a correct file format"},path:{type:String,required:!0},storage:{type:Object,required:!0},targetFileName:{type:String,required:!0},limitToType:{type:Array,default:function(){return[]}}},methods:{targetPath:function(){return this.path+"/"+this.targetFileName},getFileRef:function(){return this.storage.ref().child(this.targetPath())},resetUpload:function(){var t=this.$refs.loader;t.replaceWith(t.val("").clone(!0))},onChangeLoader:function(){event.target.files[0]&&this.uploadFile(event.target.files[0])},getMetaData:function(){var t=this;this.loading=!0,this.getFileRef().getMetadata().then(function(e){t.hasFile=!0,t.loading=!1,"file"===e.type&&-1!==e.contentType.indexOf("image/")&&(t.defaultImage=e.downloadURLs[0])}).catch(function(){t.loading=!1,t.defaultImage=!1})},uploadFile:function(t){var e=this;if(this.limitToType.length>=1&&-1===this.limitToType.indexOf(t.type))return this.hasError=!0,!1;this.hasError=!1,this.loading=!0,this.getFileRef().put(t).then(function(){e.getMetaData(),e.loading=!1,e.$emit("onUpload",e.targetPath())}).catch(function(){e.$emit("onUploadError",e.targetPath()),e.loading=!1})},deleteFile:function(){var t=this;this.loading=!0,this.getFileRef().delete().then(function(){t.loading=!1,t.defaultImage=!1,t.hasFile=!1,t.resetUpload(),t.$emit("onDelete",t.targetPath())}).catch(function(){t.loading=!1})}}},o=function(){var t=this,e=this,n=e.$createElement,r=e._self._c||n;return r("v-flex",{attrs:{xs12:"",sm3:""}},[r("v-card",[!1!==this.defaultImage?r("v-card-media",{attrs:{src:this.defaultImage,height:"200px"}}):e._e(),r("v-alert",{attrs:{outline:"",color:"error",icon:"warning",value:e.hasError}},[e._v(e._s(this.unsuportedMediaTypeLabel))]),r("v-card-actions",[r("input",{ref:"loader",attrs:{type:"file",hidden:""},on:{change:e.onChangeLoader}}),this.hasFile?r("v-btn",{attrs:{flat:"",loading:e.loading,block:""},on:{click:function(){t.deleteFile()}}},[e._v(e._s(this.deleteFileLabel))]):r("v-btn",{attrs:{flat:"",loading:e.loading,block:""},on:{click:function(){t.$refs.loader.click()}}},[e._v(e._s(this.uploadFileLabel))])],1)],1)],1)},i=[];function a(t,e,n,r,o,i,a,u){t=t||{};var c=typeof t.default;"object"!==c&&"function"!==c||(t=t.default);var f,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId=i),a?(f=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=f):o&&(f=u?function(){o.call(this,this.$root.$options.shadowRoot)}:o),f)if(l.functional){l._injectStyles=f;var s=l.render;l.render=function(t,e){return f.call(e),s(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,f):[f]}return{exports:t,options:l}}var u=!1,c=null,f=null,l=null,s=a(r,o,i,u,c,f,l),p=s.exports;e["default"]=p},sH0h:function(t,e,n){var r=n("9Uxj"),o=n("9Ji6"),i=n("vPlL"),a=Object.defineProperty;e.f=n("D5sW")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},vPlL:function(t,e,n){var r=n("dN6c");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},wUqy:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},yeSf:function(t,e,n){"use strict";var r=n("yzQb"),o=n("0zrO")(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n("drtT")(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},yzQb:function(t,e,n){var r=n("UbOL"),o=n("5jKG"),i=n("iIHC"),a=n("/eF2"),u=n("dy7O"),c="prototype",f=function(t,e,n){var l,s,p,d,h=t&f.F,v=t&f.G,y=t&f.S,g=t&f.P,x=t&f.B,b=v?r:y?r[e]||(r[e]={}):(r[e]||{})[c],m=v?o:o[e]||(o[e]={}),_=m[c]||(m[c]={});for(l in v&&(n=e),n)s=!h&&b&&void 0!==b[l],p=(s?b:n)[l],d=x&&s?u(p,r):g&&"function"==typeof p?u(Function.call,p):p,b&&a(b,l,p,t&f.U),m[l]!=p&&i(m,l,d),g&&_[l]!=p&&(_[l]=p)};r.core=o,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f}})["default"]});
//# sourceMappingURL=index.js.umd.min.js.map